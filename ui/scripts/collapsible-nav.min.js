"use strict";$.fn.CollapsibleMenu=function(a){var n=$.extend({animationTime:300,expandClass:"open",collapsedContainerClass:"active",autoDetectActive:!1},a);this.each(function(){var a=$(this);n.autoDetectActive&&function(a){var n,e=a.children("li");for(n=0;n<e.length;n++){var t=$(e[n]);if(i(t))return t.addClass("active"),!0}}(a),a.children("li").children("ul").each(function(){!function a(i){i.css("overflow-y","hidden");var t=i[0].scrollHeight;i.data("calculated-height",t);i.css("max-height",t+"px");i.children("li").children("ul").each(function(){var n=$(this);a(n)});i.hasClass(n.expandClass)||e(i)}($(this))}),a.on("click","li a",function(a){$(this).blur();var i=$(this).siblings("ul");i.length>0&&(a.preventDefault(),i.hasClass(n.expandClass)?e(i):function(a,i){var t=a.data("calculated-height"),l=a.parent();!0!==i&&a.parent().parent().find("li ul.open").each(function(){e($(this))});a.parent().parent().find("li.active").each(function(){$(this).find("ul").length||$(this).removeClass("active")}),a.animate({"max-height":t+"px"},{duration:n.animationTime}),a.addClass(n.expandClass),l.addClass(n.collapsedContainerClass),l.addClass("background")}(i))})});function e(a){var e=a.parent();a.animate({"max-height":0},{duration:n.animationTime,complete:function(){a.removeClass(n.expandClass),e.removeClass(n.collapsedContainerClass)}})}function i(a){var n,e=a.children("a"),t=a.children("ul");if(t.length>0){var l=t.children("li");for(n=0;n<l.length;n++){if(i($(l[n])))return t.addClass("open"),!0}}else if(e.length>0&&0!==e.attr("href").indexOf("#")){var s=e.prop("href"),r="/"+(s=s.split("#")[0]).split("/").slice(3).join("/");if(r==window.location.pathname)return a.addClass("active"),!0;if(r+"/index.html"==window.location.pathname||r==window.location.pathname+"index.html")return a.addClass("active"),!0}return!1}};