<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">
		<link rel="icon" type="image/x-icon" href="assets/img/favicon.ico">
		<link href="https://fonts.googleapis.com/css?family=Roboto+Mono%7CArvo:400%7CRoboto:300,400,500,700%7CCookie" rel="stylesheet">
		<link rel="stylesheet" href="../../ui/vendor/css/fontawesome.min.css">
		<link rel="stylesheet" href="../../ui/vendor/perfect-scrollbar.css">
		<link rel="stylesheet" href="../../ui/css/style.css">
		<script src="../../ui/vendor/d3.v5.min.js"></script>
		<title>CS360/560 Data Visualization</title>
	<style>
		.chart-container {
			font-size: 14px;
			font-weight: 300;
		}
		.legend-label {
			font-size: 12px;
		}
		.legend-title {
			font-size: 50px;
			color: #000;
			fill: #)00;
		}
		.axis,
		.frame {
		  shape-rendering: crispEdges;
		}

		.axis line {
		  stroke: #ddd;
		}

		.axis path {
		  display: none;
		}

		.cell text {
		  font-weight: bold;
		  text-transform: capitalize;
		  fill: black;
		}

		.frame {
		  fill: none;
		  stroke: #aaa;
		}

		circle {
		  fill-opacity: .7;
		}

		circle.hidden {
		  fill: #ccc !important;
		}

		.extent {
		  fill: #000;
		  fill-opacity: .125;
		  stroke: #fff;
		}	
	</style>
	</head>
	<body>
		<div class="full-page">
			<div class="sidebar-container">
				<aside  class="sidebar sidebar-left sidebar-fixed sidebar-dark">
					<div class="scroll">
						<div class="sidebar-header text-white bg-info">
							<div class="sidebar-brand d-flex justify-content-between align-items-center">
								<div class="title text-truncate">
									Data Visulization
								</div>
								<div class="logo align-items-center justify-content-around">
									<i class="material-icons">all_inclusive</i>
								</div>
							</div>
						</div>
						<div class="sidebar-nav-container">
							<ul class="list-nav sidebar-nav list-nav-dark list-nav-dark-info">
								<li class="list-nav-group-title">
									<span>
									  HOMEWORK 2
									</span>
								</li>
								<li class="list-nav-item">
									<a href="../../" class="list-nav-link">
									  <span class="list-nav-icon">
										<i class="material-icons">home</i>
									  </span>
									  <span class="list-nav-label">Home</span>
									</a>
								</li>
								<li class="list-nav-item">
									<a href="#" class="list-nav-link">
									  	<span class="list-nav-icon">
											<i class="material-icons">folder_open</i>
									  	</span>
									  	<span class="list-nav-label">Homework 1</span>
									  	<span class="list-nav-expand">
											<i class="material-icons">add</i>
									  	</span>
									</a>
									<ul class="list-nav-child">
										<li class="list-nav-item list-nav-child-item">
										  <a href="../homework1/overview.html" class="list-nav-link">
											<span class="list-nav-icon list-nav-icon-sm">
											  <i class="material-icons">keyboard_arrow_right</i>
											</span>
											<span class="list-nav-label">Overview</span>
										  </a>
										</li>
										<li class="list-nav-item list-nav-child-item">
										  <a href="../homework1/prototypes.html" class="list-nav-link">
											<span class="list-nav-icon list-nav-icon-sm">
											  <i class="material-icons">keyboard_arrow_right</i>
											</span>
											<span class="list-nav-label">Tableau Prototypes</span>
										  </a>
										</li>
										<li class="list-nav-item list-nav-child-item">
										  <a href="../homework1/d3-bar.html" class="list-nav-link">
											<span class="list-nav-icon list-nav-icon-sm">
											  <i class="material-icons">keyboard_arrow_right</i>
											</span>
											<span class="list-nav-label">D3 Implementations</span>
										  </a>
										</li>
										<li class="list-nav-item list-nav-child-item">
										  <a href="../homework1/requirements.html" class="list-nav-link">
											<span class="list-nav-icon list-nav-icon-sm">
											  <i class="material-icons">keyboard_arrow_right</i>
											</span>
											<span class="list-nav-label">Requirements</span>
										  </a>
										</li>
									</ul>
								</li>
								<li class="list-nav-item">
									<a href="#" class="list-nav-link">
									  	<span class="list-nav-icon">
											<i class="material-icons">folder_open</i>
									  	</span>
									  	<span class="list-nav-label">Homework 2</span>
									  	<span class="list-nav-expand">
											<i class="material-icons">add</i>
									  	</span>
									</a>
									<ul class="list-nav-child">
										<li class="list-nav-item list-nav-child-item">
										  <a href="overview.html" class="list-nav-link">
											<span class="list-nav-icon list-nav-icon-sm">
											  <i class="material-icons">keyboard_arrow_right</i>
											</span>
											<span class="list-nav-label">Overview</span>
										  </a>
										</li>
										<li class="list-nav-item list-nav-child-item">
										  <a href="scatterplot-matrix.html" class="list-nav-link">
											<span class="list-nav-icon list-nav-icon-sm">
											  <i class="material-icons">keyboard_arrow_right</i>
											</span>
											<span class="list-nav-label">Scatterplot Matrix</span>
										  </a>
										</li>
										<li class="list-nav-item list-nav-child-item">
										  <a href="requirements.html" class="list-nav-link">
											<span class="list-nav-icon list-nav-icon-sm">
											  <i class="material-icons">keyboard_arrow_right</i>
											</span>
											<span class="list-nav-label">Requirements</span>
										  </a>
										</li>
									</ul>
								</li>
								<li class="list-nav-item">
									<a href="#" class="list-nav-link">
									  	<span class="list-nav-icon">
											<i class="material-icons">folder_open</i>
									  	</span>
									  	<span class="list-nav-label">Homework 3</span>
									  	<span class="list-nav-expand">
											<i class="material-icons">add</i>
									  	</span>
									</a>
									<ul class="list-nav-child">
										<li class="list-nav-item list-nav-child-item">
										  <a href="../homework3/overview.html" class="list-nav-link">
											<span class="list-nav-icon list-nav-icon-sm">
											  <i class="material-icons">keyboard_arrow_right</i>
											</span>
											<span class="list-nav-label">Overview</span>
										  </a>
										</li>
										<li class="list-nav-item list-nav-child-item">
										  <a href="../homework3/implementation.html" class="list-nav-link">
											<span class="list-nav-icon list-nav-icon-sm">
											  <i class="material-icons">keyboard_arrow_right</i>
											</span>
											<span class="list-nav-label">Implementations</span>
										  </a>
										</li>
										<li class="list-nav-item list-nav-child-item">
										  <a href="../homework3/requirements.html" class="list-nav-link">
											<span class="list-nav-icon list-nav-icon-sm">
											  <i class="material-icons">keyboard_arrow_right</i>
											</span>
											<span class="list-nav-label">Requirements</span>
										  </a>
										</li>
									</ul>
								</li>
								<li class="list-nav-item">
									<a href="#" class="list-nav-link">
									  	<span class="list-nav-icon">
											<i class="material-icons">folder_open</i>
									  	</span>
									  	<span class="list-nav-label">Homework 4</span>
									  	<span class="list-nav-expand">
											<i class="material-icons">add</i>
									  	</span>
									</a>
									<ul class="list-nav-child">
										<li class="list-nav-item list-nav-child-item">
										  <a href="../homework4/overview.html" class="list-nav-link">
											<span class="list-nav-icon list-nav-icon-sm">
											  <i class="material-icons">keyboard_arrow_right</i>
											</span>
											<span class="list-nav-label">Overview</span>
										  </a>
										</li>
										<li class="list-nav-item list-nav-child-item">
										  <a href="../homework4/implementation.html" class="list-nav-link">
											<span class="list-nav-icon list-nav-icon-sm">
											  <i class="material-icons">keyboard_arrow_right</i>
											</span>
											<span class="list-nav-label">Implementations</span>
										  </a>
										</li>
										<li class="list-nav-item list-nav-child-item">
										  <a href="../homework4/requirements.html" class="list-nav-link">
											<span class="list-nav-icon list-nav-icon-sm">
											  <i class="material-icons">keyboard_arrow_right</i>
											</span>
											<span class="list-nav-label">Requirements</span>
										  </a>
										</li>
									</ul>
								</li>
								<li class="list-nav-item">
									<a href="#" class="list-nav-link">
									  	<span class="list-nav-icon">
											<i class="material-icons">folder_open</i>
									  	</span>
									  	<span class="list-nav-label">Midterm</span>
									  	<span class="list-nav-expand">
											<i class="material-icons">add</i>
									  	</span>
									</a>
									<ul class="list-nav-child">
										<li class="list-nav-item list-nav-child-item">
										  <a href="../midterm/prototype.html" class="list-nav-link">
											<span class="list-nav-icon list-nav-icon-sm">
											  <i class="material-icons">keyboard_arrow_right</i>
											</span>
											<span class="list-nav-label">Prototype</span>
										  </a>
										</li>
										<li class="list-nav-item list-nav-child-item">
										  <a href="../midterm/implementation.html" class="list-nav-link">
											<span class="list-nav-icon list-nav-icon-sm">
											  <i class="material-icons">keyboard_arrow_right</i>
											</span>
											<span class="list-nav-label">Implementation</span>
										  </a>
										</li>
									</ul>
								</li>
								<li class="list-nav-item">
									<a href="#" class="list-nav-link">
									  	<span class="list-nav-icon">
											<i class="material-icons">folder_open</i>
									  	</span>
									  	<span class="list-nav-label">Final</span>
									  	<span class="list-nav-expand">
											<i class="material-icons">add</i>
									  	</span>
									</a>
									<ul class="list-nav-child">
										<li class="list-nav-item list-nav-child-item">
										  <a href="../final/overview.html" class="list-nav-link">
											<span class="list-nav-icon list-nav-icon-sm">
											  <i class="material-icons">keyboard_arrow_right</i>
											</span>
											<span class="list-nav-label">Overview</span>
										  </a>
										</li>
										<li class="list-nav-item list-nav-child-item">
										  <a href="../final/about.html" class="list-nav-link">
											<span class="list-nav-icon list-nav-icon-sm">
											  <i class="material-icons">keyboard_arrow_right</i>
											</span>
											<span class="list-nav-label">About</span>
										  </a>
										</li>
										<li class="list-nav-item list-nav-child-item">
										  <a href="../final/dataset.html" class="list-nav-link">
											<span class="list-nav-icon list-nav-icon-sm">
											  <i class="material-icons">keyboard_arrow_right</i>
											</span>
											<span class="list-nav-label">Dataset</span>
										  </a>
										</li>
										<li class="list-nav-item list-nav-child-item">
										  <a href="../final/alpha.html" class="list-nav-link">
											<span class="list-nav-icon list-nav-icon-sm">
											  <i class="material-icons">keyboard_arrow_right</i>
											</span>
											<span class="list-nav-label">Alpha Release</span>
										  </a>
										</li>
										<li class="list-nav-item list-nav-child-item">
										  <a href="../final/beta.html" class="list-nav-link">
											<span class="list-nav-icon list-nav-icon-sm">
											  <i class="material-icons">keyboard_arrow_right</i>
											</span>
											<span class="list-nav-label">Beta Release</span>
										  </a>
										</li>
										<li class="list-nav-item list-nav-child-item">
										  <a href="../final/final.html" class="list-nav-link">
											<span class="list-nav-icon list-nav-icon-sm">
											  <i class="material-icons">keyboard_arrow_right</i>
											</span>
											<span class="list-nav-label">Final Release</span>
										  </a>
										</li>
										<li class="list-nav-item list-nav-child-item">
										  <a href="../final/requirements.html" class="list-nav-link">
											<span class="list-nav-icon list-nav-icon-sm">
											  <i class="material-icons">keyboard_arrow_right</i>
											</span>
											<span class="list-nav-label">Requirements</span>
										  </a>
										</li>
									</ul>
								</li>
							</ul>
						</div>
					</div>
				</aside>
			</div>
			<div class="page">
				<div class="topbar-container">
					<nav class="navbar bg-white text-secondary navbar-expand-sm py-0 topbar fixed">
						<button class="btn btn-flat-secondary btn-sm btn-icon mr-1 no-shadow d-none d-xl-block sidebar-toggle">
							<i class="material-icons">menu</i>
						</button>
						<button class="btn btn-flat-secondary btn-sm btn-icon mr-1 d-xl-none no-shadow sidebar-hide">
							<i class="material-icons">menu</i>
						</button>

						<div class="navbar-text ml-3 d-none d-sm-block">
							<h5 class="m-0 text-dark">Homework 2</h5>
						</div>

						<div class="ml-auto d-sm-flex ml-3">
							<ul class="navbar-nav">
								<li class="nav-item no-caret">
									<a href="../about.html" class="nav-link text-center">About</a>
								</li>
								<li class="nav-item no-caret">
									<a href="../resources.html" class="nav-link text-center">Resources</a>
								</li>
								<li class="nav-item no-caret">
									<a href="https://jakezhong.com" target="_blank" class="nav-link text-center">
										<i class="far fa-globe"></i>
									</a>
								</li>
								<li class="nav-item no-caret">
									<a href="https://github.com/jakezhong" target="_blank" class="nav-link text-center">
										<i class="fab fa-github"></i>
									</a>
								</li>
								<li class="nav-item no-caret">
									<a href="https://www.linkedin.com/in/jake-zhong/" target="_blank" class="nav-link text-center">
										<i class="fab fa-linkedin-in"></i>
									</a>
								</li>
								<li class="nav-item no-caret">
									<a href="https://www.instagram.com/jakezhong_" target="_blank" class="nav-link text-center">
										<i class="fab fa-instagram"></i>
									</a>
								</li>
								<li class="nav-item no-caret">
									<a href="https://www.facebook.com/jksakura" target="_blank" class="nav-link text-center">
										<i class="fab fa-facebook"></i>
									</a>
								</li>
							</ul>
						</div>
					</nav>
				</div>
				<div class="page-content">
					<section class="section">
						<div class="container">
							<h1 class="section-title">Homework 2 Prototype</h1>
						  	<!-- Begin page content -->
						  	<div class="content">
								<hr class="space"/>
								<h3 class="section-title">Discussion</h3>
								<p>The x-axis and y-axis have the same rows and columns: they are:</p>
								<ul>
									<li>Sum of K 0Inc</li>
									<li>sum of K Rank</li>
									<li>sum of K Top1Pc</li>
									<li>sum of Par Rank</li>
									<li>sum of Par Top1Pc</li>
								</ul>
								<p>Color shows details about Tier Name.</p>
								<h3 class="section-title top-space">Analysis</h3>
								<p>Overall, in terms of tier names, the data shows a increasing trend from left to right, which means the higher/larger the data of the row results in a higher/larger data of column as well. In particular, Selective private, Two-year (public and private not-for-profit) have the highest number.</p>
								<p>Most of the tiers stay at the left-down corner, such as Four-year for-profit, Highly selective private and Ivy Plus, while Selective private always stays at the top and has the highest number than others. The size of data in the middle of the row varies and differs time by time.</p>
								<p>In conclusion, parent on the top 1% tends to send their kid to Selective private and Two-year (public and private not-for-profit) schools. Besides, kids from Selective private and Two-year (public and private not-for-profit) schools usually have higher rank and income.</p>
								<hr class="space"/>
								<h3 class="section-title">Tableau Prototype</h3>
								<div class="card work-images">
									<div class="card-body card-body-p">
									  	<div class="chart-container">
											<figure>
												<img src="../../assets/img/homework2/mobility-report-scatterplot-matrix.png" alt="mobility-report-scatterplot-matrix">
											</figure>
									  	</div>
									</div>
								</div>
								<h3 class="section-title">D3 Data Visualization</h3>
								<div class="card work-images">
									<div class="card-body card-body-p">
									  	<div class="chart-container">
											<h3>Mobility Report Scatterplot Matrix</h3>
											<div class="d3-scatterplot-matrix"><svg width="960" height="760"></svg></div>
									  	</div>
									</div>
								</div>
					  		</div>
						  <!-- End page content -->
						</div>
					</section>
				</div>
			</div>
		</div>
		<script>
			var	margin = 200,
    			padding = 15,
    			size = 150;

			var svg = d3.select(".d3-scatterplot-matrix svg")
				.append("g")
				.attr("transform", "translate(" + padding + "," + padding / 2 + ")");

			var x = d3.scaleLinear()
				.range([padding / 2, size - padding / 2]);

			var y = d3.scaleLinear()
				.range([size - padding / 2, padding / 2]);

			var xAxis = d3.axisBottom()
				.scale(x)
				.ticks(6);

			var yAxis = d3.axisLeft()
				.scale(y)
				.ticks(6);

			var color = d3.scaleOrdinal(d3.schemeCategory10);

			var dataset = d3.csv("data/mrc_table2.csv");
			
			dataset.then(function(data) {
				var domainByTrait = {},
					traits = d3.keys(data[0]).filter(function(d) { return d !== "tier_name"; }),
					n = traits.length;
				
				var legends = new Array();
				
				data.forEach(function(legend) {
					legends.push(legend['tier_name']);
				});
				
				
				svg.append("g")
				.attr("transform", "translate(" + padding + "," + padding / 2 + ")");

				traits.forEach(function(trait) {
					domainByTrait[trait] = d3.extent(data, function(d) {
						return Number(d[trait]);
					});
				});

				xAxis.tickSize(size * n);
				yAxis.tickSize(-size * n);

				svg.selectAll(".x.axis")
					.data(traits)
					.enter().append("g")
					.attr("class", "x axis")
					.attr("transform", function(d, i) { return "translate(" + (n - i - 1) * size + ",0)"; })
					.each(function(d) {
						x.domain(domainByTrait[d]);
						d3.select(this).call(xAxis);
					});

				svg.selectAll(".y.axis")
					.data(traits)
					.enter().append("g")
					.attr("class", "y axis")
					.attr("transform", function(d, i) { return "translate(0," + i * size + ")"; })
					.each(function(d) {
						y.domain(domainByTrait[d]);
						d3.select(this).call(yAxis);
					});
				
				
			  	var cell = svg.selectAll(".cell")
					.data(cross(traits, traits))
					.enter().append("g")
					.attr("class", "cell")
					.attr("transform", function(d) { return "translate(" + (n - d.i - 1) * size + "," + d.j * size + ")"; })
					.each(plot);

				// Titles for the diagonal.
				cell.filter(function(d) { return d.i === d.j; }).append("text")
					.attr("x", padding)
					.attr("y", padding)
					.attr("dy", "1em")
					.text(function(d) { return d.x; });

			  	function plot(p) {
					var cell = d3.select(this);

					x.domain(domainByTrait[p.x]);
					y.domain(domainByTrait[p.y]);

					cell.append("rect")
						.attr("class", "frame")
						.attr("x", padding / 2)
						.attr("y", padding / 2)
						.attr("width", size - padding)
						.attr("height", size - padding);

					cell.selectAll("circle")
						.data(data)
						.enter().append("circle")
						.attr("cx", function(d) { return x(d[p.x]); })
						.attr("cy", function(d) { return y(d[p.y]); })
						.attr("r", 4)
						.style("fill", function(d) { return color(d.tier_name); });
					
					var legend_size = 12;
					
					// Add one dot in the legend for each name.
					
					svg.selectAll("legend-rects")
						.data(data)
					    .enter()
					    .append("rect")
						.attr("x", 760)
						.attr("y", function(d,i){ return i * (legend_size+5)})
						.attr("width", legend_size)
						.attr("height", legend_size)
						.attr("class", "legend-rect")
						.style("fill", function(d) { return color(d.tier_name); });

					// Add one dot in the legend for each name.
					svg.selectAll("legend-labels")
						.data(data)
						.enter()
						.append("text")
						.attr("x", 760 + legend_size * 1.5)
    					.attr("y", function(d,i){ return i * (legend_size+5) + (legend_size/2)})
						.text(function(d){ return d.tier_name; })
						.attr("text-anchor", "left")
						.style("alignment-baseline", "middle")
						.attr("class", "legend-label")
						.style("fill", function(d) { return color(d.tier_name); });
				}
			});
			function cross(a, b) {
			  var c = [], n = a.length, m = b.length, i, j;
			  for (i = -1; ++i < n;) for (j = -1; ++j < m;) c.push({x: a[i], i: i, y: b[j], j: j});
			  return c;
			}
		</script>
		<script src="../../ui/vendor/jquery.min.js"></script>
		<script src="../../ui/vendor/popper.min.js"></script>
		<script src="../../ui/vendor/bootstrap.min.js"></script>
		<script src="../../ui/vendor/perfect-scrollbar.min.js"></script>
		<script src="../../ui/vendor/hammer.min.js"></script>
		<script src="../../ui/vendor/jquery-ui/jquery-ui.min.js"></script>
		<script src="../../ui/vendor/color/color.min.js"></script>
		<script src="../../ui/vendor/fontawesome.min.js"></script>
		<script src="../../ui/scripts/sidebar.min.js"></script>
		<script src="../../ui/scripts/collapsible-nav.min.js"></script>
		<script src="../../ui/scripts/colors.min.js"></script>
		<script src="../../ui/scripts/settings.min.js"></script>
		<script src="../../ui/scripts/card.min.js"></script>
		<script src="../../ui/scripts/script.js"></script>
	</body>
</html>
